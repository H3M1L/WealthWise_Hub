<html>
<head>
  <title>Dashboard - WealthWise Hub</title>
  <link rel="stylesheet" href="css/style.css">
</head>

<body class="fade-page" onload="initTheme(); checkAuth(); loadDashboard(); drawChart();">

<!-- SPLASH -->
<div id="splash">
  <h1>WealthWise Hub</h1>
  <p>Smart Finance â€¢ Investment â€¢ Banking</p>
</div>

<!-- LOADER -->
<div id="loader" class="loader hidden"><div class="spinner"></div></div>

<!-- TOAST -->
<div id="toast-container" class="toast-container"></div>

<!-- NAV -->
<nav class="topnav">
  <span class="logo">WealthWise Hub</span>
  <a href="dashboard.html">Dashboard</a>
  <a href="calculators.html">Calculators</a>
  <a href="profile.html">Profile</a>
  <a href="about.html">About</a>
  <a href="contact.html">Contact</a>
  <button onclick="openThemeModal()">âš™ Settings</button>
  <button onclick="logoutUser()">Logout</button>
</nav>

<!-- SIDEBAR -->
<aside class="sidebar">
  <a onclick="scrollToSection('balanceSection')">ğŸ  <span>Overview</span></a>
  <a onclick="scrollToSection('depositSection')">ğŸ’° <span>Deposit</span></a>
  <a onclick="scrollToSection('withdrawSection')">ğŸ’¸ <span>Withdraw</span></a>
  <a onclick="scrollToSection('goalSection')">ğŸ¯ <span>Goals</span></a>
  <a onclick="scrollToSection('reportSection')">ğŸ“„ <span>Reports</span></a>
  <a onclick="scrollToSection('adviceSection')">ğŸ¤– <span>Advisor</span></a>
</aside>

<!-- MAIN -->
<main class="main">

  <h2 id="welcome"></h2>
  <img id="dashProfileImage" class="profile-img" style="width:60px;height:60px;">

  <!-- BALANCE -->
  <section id="balanceSection" class="glass-card dashboard-container">
    <h3>Balance: â‚¹<span id="balance">0</span></h3>
    <canvas id="balanceChart" width="350" height="200"></canvas>
  </section>

  <!-- DEPOSIT -->
  <section id="depositSection" class="glass-card">
    <h3>Deposit Money</h3>
    <input type="number" id="amount" placeholder="Enter amount">
    <button onclick="deposit()">Deposit</button>
  </section>

  <!-- WITHDRAW -->
  <section id="withdrawSection" class="glass-card">
    <h3>Withdraw Money</h3>
    <input type="number" id="amount" placeholder="Enter amount">
    <button onclick="withdraw()">Withdraw</button>
  </section>

  <!-- GOALS -->
  <section id="goalSection" class="glass-card">
    <h3>Goal Savings Predictor</h3>
    <input type="number" id="goalAmount" placeholder="Goal (â‚¹)">
    <input type="number" id="goalMonthly" placeholder="Monthly Save (â‚¹)">
    <button onclick="goalPrediction()">Predict</button>
    <p id="goalResult"></p>
  </section>

  <!-- REPORT -->
  <section id="reportSection" class="glass-card">
    <h3>Report / Analytics</h3>

    <div style="margin-bottom:10px;">
      <input type="text" id="searchTx" placeholder="Search by type or date" oninput="updateTxView()">
    </div>

    <div style="margin-bottom:10px;">
      <button onclick="setFilter('all')">All</button>
      <button onclick="setFilter('deposit')">Deposits</button>
      <button onclick="setFilter('withdraw')">Withdrawals</button>

      <select id="sortTx" onchange="updateTxView()">
        <option value="latest">Latest First</option>
        <option value="oldest">Oldest First</option>
        <option value="high">Highest Amount</option>
        <option value="low">Lowest Amount</option>
      </select>
    </div>

    <button onclick="exportPDF()">Download Report PDF</button>
    <button onclick="exportCSV()">Export Transactions CSV</button>
    <button onclick="monthlySpend()">Monthly Spend Summary</button>

    <ul id="transactionList"></ul>
  </section>

  <!-- AI ADVISOR -->
  <section id="adviceSection" class="glass-card">
    <h3>Investment Advisor (Beta)</h3>
    <textarea id="adviceInput" rows="3" style="width:90%;border-radius:8px;border:none;padding:8px;" placeholder="Ask something like: Should I increase my SIP?"></textarea><br>
    <button onclick="getAdvice()">Get Advice</button>
    <p id="adviceOutput" style="margin-top:10px;font-size:14px;"></p>
  </section>

</main>

<!-- THEME SETTINGS MODAL -->
<div id="themeModal" class="theme-modal hidden">
  <div class="theme-modal-content">
    <h3>Select Theme</h3>
    <div class="theme-options">
      <div class="theme-box" onclick="setTheme('default')" style="background: linear-gradient(135deg,#0057d9,#0099ff)"></div>
      <div class="theme-box" onclick="setTheme('theme-purple')" style="background: linear-gradient(135deg,#4b007d,#9b4dff)"></div>
      <div class="theme-box" onclick="setTheme('theme-green')" style="background: linear-gradient(135deg,#00754d,#00b46e)"></div>
      <div class="theme-box" onclick="setTheme('theme-gold')" style="background: linear-gradient(135deg,#000,#2c2c2c)"></div>
    </div>
    <button onclick="closeThemeModal()">Close</button>
  </div>
</div>

<script src="js/auth.js"></script>
<script src="js/dashboard.js"></script>

</body>
</html>
